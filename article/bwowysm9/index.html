<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.9" /><meta name="theme" content="VuePress Theme Plume 1.0.0-rc.51" /><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;if (um === 'dark' || (um !== 'light' && sm)) {document.documentElement.classList.add('dark');}})();</script><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><title>单体服务到微服务</title><meta name="description" content=""><link rel="preload" href="/assets/style-Cab-TAfl.css" as="style"><link rel="stylesheet" href="/assets/style-Cab-TAfl.css"><link rel="modulepreload" href="/assets/app-CR8Egssm.js"><link rel="modulepreload" href="/assets/index.html-CGr-oEQz.js"><link rel="prefetch" href="/assets/index.html-BUOZPFT0.js" as="script"><link rel="prefetch" href="/assets/index.html-DJ5E4k31.js" as="script"><link rel="prefetch" href="/assets/index.html-BFIQD4qT.js" as="script"><link rel="prefetch" href="/assets/index.html-SduYOth0.js" as="script"><link rel="prefetch" href="/assets/index.html-Cngor8u1.js" as="script"><link rel="prefetch" href="/assets/index.html-DBnA9Gil.js" as="script"><link rel="prefetch" href="/assets/index.html-D8kmNBsc.js" as="script"><link rel="prefetch" href="/assets/index.html-BSjiDL0D.js" as="script"><link rel="prefetch" href="/assets/index.html-CrBrtHmm.js" as="script"><link rel="prefetch" href="/assets/index.html-CbNbyUQm.js" as="script"><link rel="prefetch" href="/assets/index.html-D2i_Hiqh.js" as="script"><link rel="prefetch" href="/assets/index.html-CDFPIphy.js" as="script"><link rel="prefetch" href="/assets/index.html-CERP9hsR.js" as="script"><link rel="prefetch" href="/assets/index.html-DpAc35PK.js" as="script"><link rel="prefetch" href="/assets/index.html-B91wWGfE.js" as="script"><link rel="prefetch" href="/assets/index.html-D-e8v5lU.js" as="script"><link rel="prefetch" href="/assets/index.html-d6wxwRmO.js" as="script"><link rel="prefetch" href="/assets/index.html-CieFavvK.js" as="script"><link rel="prefetch" href="/assets/index.html-CJCsUoaj.js" as="script"><link rel="prefetch" href="/assets/index.html-CszBEP7B.js" as="script"><link rel="prefetch" href="/assets/index.html-CEYgg5cy.js" as="script"><link rel="prefetch" href="/assets/index.html-BOta8w4T.js" as="script"><link rel="prefetch" href="/assets/index.html-fhM5mODa.js" as="script"><link rel="prefetch" href="/assets/index.html-BFijyntL.js" as="script"><link rel="prefetch" href="/assets/index.html-DxXjWPr6.js" as="script"><link rel="prefetch" href="/assets/index.html-CyODe-cE.js" as="script"><link rel="prefetch" href="/assets/404.html-NNxdNTzJ.js" as="script"><link rel="prefetch" href="/assets/index.html-D3GFTqaT.js" as="script"><link rel="prefetch" href="/assets/index.html-CyKsX64C.js" as="script"><link rel="prefetch" href="/assets/index.html-CpAFJn5X.js" as="script"><link rel="prefetch" href="/assets/index.html-RFHIeatw.js" as="script"><link rel="prefetch" href="/assets/index.html-DaZCJXeh.js" as="script"><link rel="prefetch" href="/assets/index.html-DpH3LFad.js" as="script"><link rel="prefetch" href="/assets/SearchBox-CQGrMUUo.js" as="script"><link rel="prefetch" href="/assets/flowchart-966sEcGG.js" as="script"><link rel="prefetch" href="/assets/mermaid.core-FMliqnJy.js" as="script"></head><body><div id="app"><!--[--><div class="theme-plume" data-v-7fe69986><!--[--><!--[--><span tabindex="-1" data-v-fb8b6940></span><a href="#LayoutContent" class="skip-link visually-hidden" data-v-fb8b6940> Skip to content </a><!--]--><!----><div class="nav-wrapper" data-v-7fe69986 data-v-c4d24e06><div class="navbar-wrapper" data-v-c4d24e06 data-v-bdd29c31><div class="container" data-v-bdd29c31><div class="title" data-v-bdd29c31><div class="navbar-title" data-v-bdd29c31 data-v-ec5933d6><a class="auto-link link title" href="/" data-v-ec5933d6 data-v-854afaa7><!--[--><!----> <!--]--><!----></a></div></div><div class="content" data-v-bdd29c31><div class="curtain" data-v-bdd29c31></div><div class="content-body" data-v-bdd29c31><div class="navbar-search search" data-v-bdd29c31><div class="search-wrapper" data-v-42bde34a><!----><div id="local-search" data-v-42bde34a><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-42bde34a><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="navbar-menu menu" data-v-bdd29c31 data-v-1039ff86><span id="main-nav-aria-label" class="visually-hidden" data-v-1039ff86>Main Navigation</span><!--[--><!--[--><a class="auto-link link navbar-menu-link" href="/" data-v-1039ff86 data-v-56b9fc72 data-v-854afaa7><!--[--><!----><i data-v-56b9fc72>首页</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/blog/" data-v-1039ff86 data-v-56b9fc72 data-v-854afaa7><!--[--><!----><i data-v-56b9fc72>博客</i><!--]--><!----></a><!--]--><!--[--><a class="auto-link link navbar-menu-link" href="/user/resume/" data-v-1039ff86 data-v-56b9fc72 data-v-854afaa7><!--[--><!----><i data-v-56b9fc72>简历</i><!--]--><!----></a><!--]--><!--[--><div class="flyout-wrapper navbar-menu-group" data-v-1039ff86 data-v-3b37b65c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-3b37b65c><span class="text" data-v-3b37b65c><!----><!----><span data-v-3b37b65c>笔记</span><span class="vpi-chevron-down text-icon" data-v-3b37b65c></span></span></button><div class="menu" data-v-3b37b65c><div class="menu-wrapper" data-v-3b37b65c data-v-94cdb4ee><div class="items" data-v-94cdb4ee><!--[--><!--[--><div class="menu-group" data-v-94cdb4ee data-v-0ea05545><p class="title" data-v-0ea05545><!----><span data-v-0ea05545>心得感悟</span></p><!--[--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/live/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>生活</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/book/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>读书</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/movie/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>观影</i><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="menu-group" data-v-94cdb4ee data-v-0ea05545><p class="title" data-v-0ea05545><!----><span data-v-0ea05545>经历</span></p><!--[--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/experience/work/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>工作</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/experience/university/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>大学</i><!--]--><!----></a></div><!--]--><!--[--><div class="menu-link" data-v-0ea05545 data-v-f57b4f5c><a class="auto-link link" href="/experience/high-school/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>高中</i><!--]--><!----></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="flyout-wrapper navbar-translations translations" data-v-bdd29c31 data-v-c760946a data-v-3b37b65c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="选择语言" data-v-3b37b65c><span class="text" data-v-3b37b65c><!----><span class="vpi-languages option-icon" data-v-3b37b65c></span><!----><span class="vpi-chevron-down text-icon" data-v-3b37b65c></span></span></button><div class="menu" data-v-3b37b65c><div class="menu-wrapper" data-v-3b37b65c data-v-94cdb4ee><!----><!--[--><!--[--><div class="items" data-v-c760946a><p class="title" data-v-c760946a>简体中文</p><!--[--><div class="menu-link" data-v-c760946a data-v-f57b4f5c><a class="auto-link link" href="/en/blog/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>English</i><!--]--><!----></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="navbar-appearance appearance" data-v-bdd29c31 data-v-9cfb6b79><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-9cfb6b79 data-v-b7976763 data-v-c52470ad><span class="check" data-v-c52470ad><span class="icon" data-v-c52470ad><!--[--><span class="vpi-sun sun" data-v-b7976763></span><span class="vpi-moon moon" data-v-b7976763></span><!--]--></span></span></button></div><div class="social-links navbar-social-links social-links" data-v-bdd29c31 data-v-5c20b93e data-v-8237df67><!--[--><a class="social-link" href="https://github.com/HiCheer-O" aria-label="github" target="_blank" rel="noopener" data-v-8237df67 data-v-51bf84b1><span class="vpi-social-github" /></a><!--]--></div><div class="flyout-wrapper navbar-extra extra" data-v-bdd29c31 data-v-39670ced data-v-3b37b65c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-3b37b65c><span class="vpi-more-horizontal icon" data-v-3b37b65c></span></button><div class="menu" data-v-3b37b65c><div class="menu-wrapper" data-v-3b37b65c data-v-94cdb4ee><!----><!--[--><!--[--><div class="group translations" data-v-39670ced><p class="trans-title" data-v-39670ced>简体中文</p><!--[--><div class="menu-link" data-v-39670ced data-v-f57b4f5c><a class="auto-link link" href="/en/blog/" data-v-f57b4f5c data-v-854afaa7><!--[--><!----><i data-v-f57b4f5c>English</i><!--]--><!----></a></div><!--]--></div><div class="group" data-v-39670ced><div class="item appearance" data-v-39670ced><p class="label" data-v-39670ced>外观</p><div class="appearance-action" data-v-39670ced><button class="switch-wrapper switch-appearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-39670ced data-v-b7976763 data-v-c52470ad><span class="check" data-v-c52470ad><span class="icon" data-v-c52470ad><!--[--><span class="vpi-sun sun" data-v-b7976763></span><span class="vpi-moon moon" data-v-b7976763></span><!--]--></span></span></button></div></div></div><div class="group" data-v-39670ced><div class="item social-links" data-v-39670ced><div class="social-links social-links-list" data-v-39670ced data-v-8237df67><!--[--><a class="social-link" href="https://github.com/HiCheer-O" aria-label="github" target="_blank" rel="noopener" data-v-8237df67 data-v-51bf84b1><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><button type="button" class="navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-bdd29c31 data-v-af1bc532><span class="container" data-v-af1bc532><span class="top" data-v-af1bc532></span><span class="middle" data-v-af1bc532></span><span class="bottom" data-v-af1bc532></span></span></button></div></div></div></div><!----></div><div class="local-nav reached-top is-blog" data-v-7fe69986 data-v-69300d65><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-69300d65><span class="vpi-align-left menu-icon" data-v-69300d65></span><span class="menu-text" data-v-69300d65>Menu</span></button><div class="local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-69300d65 data-v-b259e503><button class="" data-v-b259e503>此页内容 <span class="vpi-chevron-right icon" data-v-b259e503></span></button><!----></div></div><!----><div id="LayoutContent" class="layout-content" data-v-7fe69986 data-v-61a410da><!--[--><div class="has-aside is-blog plume-page" data-v-035079cd><div class="container" data-v-035079cd><div class="aside" data-v-035079cd><div class="aside-container" data-v-035079cd><div class="aside-content" data-v-035079cd><div class="page-aside" data-v-035079cd data-v-5c573259><div class="has-outline page-aside-outline" data-v-5c573259><div class="content" data-v-5c573259><div class="outline-marker" data-v-5c573259></div><div class="outline-title" data-v-5c573259><span data-v-5c573259>此页内容</span><span class="vpi-print icon" data-v-5c573259></span></div><nav aria-labelledby="doc-outline-aria-label" data-v-5c573259><span id="doc-outline-aria-label" class="visually-hidden" data-v-5c573259> Table of Contents for current page </span><ul class="root" data-v-5c573259 data-v-a0aa871f><!--[--><li data-v-a0aa871f><a class="outline-link" href="#前言" data-v-a0aa871f>前言</a><!----></li><li data-v-a0aa871f><a class="outline-link" href="#微服务中一个请求过来" data-v-a0aa871f>微服务中一个请求过来</a><!----></li><li data-v-a0aa871f><a class="outline-link" href="#未完成" data-v-a0aa871f>未完成</a><!----></li><!--]--></ul></nav></div></div></div></div></div></div><div class="content" data-v-035079cd><div class="content-container" data-v-035079cd><!--[--><div class="page-category-wrapper" data-v-cbb1c440><!--[--><!--[--><span class="category" data-v-cbb1c440>博客</span><span class="dot" data-v-cbb1c440>›</span><!--]--><!--[--><span class="category" data-v-cbb1c440>后端</span><span class="dot" data-v-cbb1c440>›</span><!--]--><!--[--><span class="category" data-v-cbb1c440>java</span><!----><!--]--><!--]--></div><h1 class="page-title" data-v-cbb1c440>单体服务到微服务</h1><div class="page-meta-wrapper" data-v-cbb1c440><p class="author" data-v-cbb1c440><span class="icon vpi-user" data-v-cbb1c440></span><span data-v-cbb1c440>HiCheer</span></p><p class="reading-time" data-v-cbb1c440><span class="vpi-books icon" data-v-cbb1c440></span><span data-v-cbb1c440>882字</span><span data-v-cbb1c440>约3分钟</span></p><!----><p class="create-time" data-v-cbb1c440><span class="vpi-clock icon" data-v-cbb1c440></span><span data-v-cbb1c440>2024-05-30</span></p></div><!--]--><!--[--><div style="position:relative;" data-v-035079cd><div class="plume-content" data-v-035079cd><h3 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h3><p>OK 朋友们在开始之前问一下问题，当然也给了一定答案！！</p><ul><li><p>单体项目为什么要转成微服务？</p><p>大多人应该都是抱着学习的态度来学习的，我们工作生涯中可能听说过微服务是为了提高项目的稳定性，防止一个模块有问题影响到其他的模块，便于大型项目的更新维护。</p></li><li><p>转成微服务给我带来了那些问题？</p><p>一般从单体项目升级到微服务，其实会有一系列的问题会出现。例如：各个服务间如何通信，多个服务 token 如何共享，一个代码块中调用了多个服务间的接口，如何保证事务等等。这些问题在单体架构中是不存在或者解决是很简单的，毕竟都在一起。如果你在单体项目中没有思考过这些问题的话，在微服务中不得不考虑这些问题。</p></li><li><p>如何解决这些问题？</p><p>目前这些微服务问题市面上已经有人给了我们解决方案，无非就是项目中引入相关依赖，写一些代码配置类，可能有些解决方案用到外置的程序，配合我们的代码实现来解决这些问题的。</p></li><li><p>确定有必要转微服务？</p><p>微服务架构有很多注意的点其实有很多的。那些小团队业务量小的真心没必要升级微服务，因为微服务是了提高项目的稳定性，和大型团队的项目维护管理，为以后用户量增大做分布式做准备的。单体项目的不需要考虑太多问题，而且相同请求下，单体是比微服务效率要高的，因为少了很多中间的组件，不会有服务间的网络通信延迟。</p></li></ul><h3 id="微服务中一个请求过来" tabindex="-1"><a class="header-anchor" href="#微服务中一个请求过来"><span>微服务中一个请求过来</span></a></h3><!--[--><div class="loading-icon-wrapper flowchart-loading" style="display:flex;align-items:center;justify-content:center;height:192px;"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div><div class="flowchart-wrapper vue" id="flowchart-43" style="display:none;"></div><!--]--><ol><li></li></ol><table><thead><tr><th style="text-align:left;">微服务类型</th><th>相关组件</th><th>作用</th></tr></thead><tbody><tr><td style="text-align:left;">服务注册发现</td><td>Eureka, Consul, ZooKeeper, etcd</td><td>用于服务注册和发现，提供了高可用的服务注册中心</td></tr><tr><td style="text-align:left;">负载均衡</td><td>Ribbon, Spring Cloud LoadBalancer</td><td>用于将请求分发到不同的服务实例，提高系统的性能和可用性</td></tr><tr><td style="text-align:left;">服务调用</td><td>Feign, WebClient, RestTemplate</td><td>用于在服务之间进行通信，实现服务之间的调用和交互</td></tr><tr><td style="text-align:left;">断路器</td><td>Hystrix, Resilience4j、Sentinel</td><td>用于在服务之间进行通信时，处理潜在的故障和延迟</td></tr><tr><td style="text-align:left;">配置管理</td><td>Spring Cloud Config, Consul, etcd, ZooKeeper</td><td>用于集中管理微服务的配置信息，并实现配置的动态更新</td></tr><tr><td style="text-align:left;">服务监控</td><td>Spring Boot Actuator, Spring Cloud Sleuth, Micrometer</td><td>用于监控微服务的运行状态、性能指标和调用链分析</td></tr><tr><td style="text-align:left;">日志管理</td><td>ELK Stack, Fluentd, Logstash, Log4j2</td><td>用于收集、存储和分析微服务产生的日志信息</td></tr><tr><td style="text-align:left;">安全认证</td><td>Spring Security, OAuth2, JWT</td><td>用于保护微服务的安全性，实现身份验证和授权</td></tr><tr><td style="text-align:left;">服务网格</td><td>Zuul、Istio, Spring Cloud Gateway, Spring Cloud Circuit Breaker</td><td>提供了微服务之间的可靠通信、安全性和流量控制等功能</td></tr><tr><td style="text-align:left;">任务调度</td><td>Spring Cloud Data Flow, Spring Batch</td><td>用于调度和管理微服务的作业和任务执行</td></tr><tr><td style="text-align:left;">事务</td><td>Seatal</td><td></td></tr><tr><td style="text-align:left;">消息队列</td><td>Kafka、RabbitMQ</td><td></td></tr><tr><td style="text-align:left;"></td><td></td><td></td></tr></tbody></table><h3 id="未完成" tabindex="-1"><a class="header-anchor" href="#未完成"><span>未完成</span></a></h3></div><!----></div><footer class="page-footer" data-v-035079cd data-v-4e68a955><!----><div class="contributors" data-v-4e68a955><span class="contributors-label" data-v-4e68a955>贡献者: </span><span class="contributors-info" data-v-4e68a955><!--[--><!--[--><span class="contributor" title="email: chendangdang1998@gmail.com" data-v-4e68a955>HiCheer-O</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-4e68a955><div class="pager" data-v-4e68a955><a class="auto-link link pager-link prev" href="/article/8ir0sk8u/" data-v-4e68a955 data-v-854afaa7><!--[--><span class="desc" data-v-4e68a955>上一页</span><span class="title" data-v-4e68a955>从0写若依管理后台</span><!--]--><!----></a></div><div class="pager" data-v-4e68a955><!----></div></nav></footer><!----><!--]--></div></div></div></div><button style="display:none;" type="button" class="back-to-top-button" aria-label="back to top" data-v-7fe69986 data-v-c84a2d2e><span class="percent" data-v-c84a2d2e>0%</span><span class="show icon vpi-back-to-top" data-v-c84a2d2e></span><svg aria-hidden="true" data-v-c84a2d2e><circle cx="50%" cy="50%" style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-c84a2d2e></circle></svg></button><footer class="plume-footer" data-v-7fe69986 data-v-61544861><div class="container" data-v-61544861><p class="message" data-v-61544861>@All, may there be no war in the world.</p><!----></div></footer><!--]--></div><!--]--></div><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CR8Egssm.js" defer></script></body></html>